<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Weapon Detection System Architecture</title>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <style>
    :root {
      --bg-color: #f4f6fa;
      --card-color: #ffffff;
      --text-color: #222;
      --accent-color: #6366f1;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: var(--bg-color);
      color: var(--text-color);
      padding: 40px 20px;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
    }

    .header {
      text-align: center;
      margin-bottom: 40px;
    }

    .header h1 {
      font-size: 2.4rem;
      color: var(--accent-color);
      font-weight: 700;
      margin-bottom: 10px;
    }

    .header p {
      font-size: 1.1rem;
      color: #555;
    }

    .card {
      background-color: var(--card-color);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.07);
      border-radius: 12px;
      padding: 30px;
    }

    #systemFlowChart {
      width: 100%;
      height: 600px;
    }

    @media screen and (max-width: 768px) {
      .header h1 {
        font-size: 1.8rem;
      }

      #systemFlowChart {
        height: 500px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>Weapon Detection System Architecture</h1>
      <p>End-to-End Data Flow from Camera to Live Detection on Web</p>
    </div>
    <div class="card">
      <div id="systemFlowChart"></div>
    </div>
  </div>

  <script>
    const data = [{
      type: "sankey",
      orientation: "h",
      node: {
        pad: 15,
        thickness: 25,
        line: {
          color: "#444",
          width: 0.5
        },
        label: [
          "RTSP Camera üé•",
          "FFmpeg (RTSP ‚Üí HLS) üéûÔ∏è",
          "YOLOv8 Detection üîç",
          "Python Backend üêç",
          "Django Views üåê",
          "HLS Stream on Web üíª",
          "Live Detection Stats üìä"
        ],
        color: [
          "#4c78a8",
          "#f58518",
          "#54a24b",
          "#e45756",
          "#b279a2",
          "#9d755d",
          "#ff9da6"
        ]
      },
      link: {
        source: [0, 1, 2, 3, 4, 4],
        target: [1, 2, 3, 4, 5, 6],
        value:  [1, 1, 1, 1, 1, 1]
      }
    }];

    const layout = {
      title: {
        text: "Data Flow Pipeline",
        font: {
          size: 20,
          color: "#333"
        }
      },
      font: {
        size: 14
      },
      margin: {
        l: 20,
        r: 20,
        b: 30,
        t: 60
      }
    };

    Plotly.newPlot("systemFlowChart", data, layout, {responsive: true});
  </script>
</body>
</html>
